(function(n,m,c,l,s,t,p,i,h){"use strict";const{FormInput:R,FormRow:C,FormSection:d,FormText:b}=i.Forms,{ScrollView:k}=i.General,g=[{label:"Pending reply bar color",key:"replyBarColor",default:"#949cf7"},{label:"Pending reply background color",key:"replyBgColor",default:"#949cf730"},{label:"Pending edit bar color",key:"editBarColor",default:"#00aa5d"},{label:"Pending edit background color",key:"editBgColor",default:"#00aa5d30"}],u=function(e){return g.forEach(function(r){e&&delete t.storage[r.key],t.storage[r.key]??=r.default})};u();function v(){return p.useProxy(t.storage),React.createElement(k,null,React.createElement(d,{title:"Colors",titleStyleType:"no_border"},React.createElement(l.ReactNative.FlatList,{data:g,renderItem:function({item:e}){return React.createElement(R,{title:e.label,placeholder:"#RRGGBBAA",value:t.storage[e.key],onChange:function(r){return t.storage[e.key]=r}})}}),React.createElement(b,{style:{paddingHorizontal:14}},"Leave empty to use Discord colors")),React.createElement(d,{title:"Misc"},React.createElement(C,{label:"Restore plugin defaults",onPress:function(){u(),h.showToast("Restored plugin defaults.")}})))}const B=c.findByName("ChatInput"),E=c.findByName("RowManager");let f;const F=[s.after("generate",E.prototype,function([e],r){if(e.rowType!==1)return;let o,a;f==e.message?.id?(o=t.storage.replyBarColor,a=t.storage.replyBgColor):e.isEditing&&(o=t.storage.editBarColor,a=t.storage.editBgColor);try{y(o)&&(r.backgroundHighlight.gutterColor=l.ReactNative.processColor(o)),y(a)&&(r.backgroundHighlight.backgroundColor=l.ReactNative.processColor(a))}catch{m.logger.error(`Failed to set highlight colors for message ${e.message?.id}`)}}),s.after("render",B.prototype,function(...e){f=e[1].props.children[1]?.props?.pendingReply?.message?.id})],P=function(){return F.forEach(function(e){return e()})},w=v;function y(e){return!e?.startsWith("#")||e?.length<7?null:e}return n.onUnload=P,n.settings=w,n})({},vendetta,vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.plugin,vendetta.storage,vendetta.ui.components,vendetta.ui.toasts);
